# プロジェクト構成

## ディレクトリ構成

```
project-root/
├── .spec-workflow/        # Spec Workflow 用のドキュメントとテンプレート
├── .serena/               # Serena CLI 設定
├── tools/                 # 補助スクリプト・設定（Codex CLI 用）
└── src/                   # カウンター実装を配置する予定のディレクトリ（最小構成）
```

- 実装ファイルは `src/main.py` として配置し、標準出力の挙動を管理する。
- テストが必要になった場合は `tests/` を新設し、簡易的な検証スクリプトを配置する。

## 命名規則

### ファイル
- 実装ファイル: `snake_case`（例: `main.py`）。
- ユーティリティ: `snake_case`（例: `time_utils.py`）。
- テスト: `test_*.py` 形式（例: `test_main.py`）。

### コード
- クラス: `PascalCase`。
- 関数・メソッド: `snake_case`。
- 定数: `UPPER_SNAKE_CASE`。
- 変数: `snake_case`。

## インポートパターン

### インポート順序
1. 標準ライブラリ (`time`, `datetime` など)
2. プロジェクト内モジュール（必要になった場合）

### モジュール構成
- プロジェクト内では絶対インポート（`from src.timer import ...`）を基本とする。
- 最小構成では単一ファイルのため、追加モジュール発生時に適切にパッケージ化する。

## コード構造パターン

### モジュール構成
1. インポート宣言
2. 定数・設定値（例: カウンター上限 `MAX_COUNT = 100`）
3. 補助関数（例: フォーマット関数）
4. メインループ関数
5. ガード節 `if __name__ == "__main__":` によるエントリポイント

### 関数構成
- 入力バリデーションや初期化を冒頭で行う。
- ループ内のカウンター更新 → 時刻取得 → 出力 → 待機を一貫した順序で実行。
- エラー処理が必要な場合は `try/except` ブロックでラップし、終了時にメッセージを表示。

### ファイル構成原則
- 単一責務を重視し、カウンター制御と出力処理を同一ファイルで扱う。
- 実装が増える場合は `timer.py` など機能別に分割し、`main.py` はエントリポイントとして残す。

## コード組織原則
1. **Single Responsibility**: 各ファイルは明確な役割（エントリポイント、ユーティリティなど）に限定する。
2. **Modularity**: 後から拡張しやすいよう関数単位でロジックを切り出す。
3. **Testability**: カウンター更新ロジックを関数化し、将来的に単体テストが書ける構造に保つ。
4. **Consistency**: PEP 8 に沿ったスタイルを維持し、共通のパターンを踏襲する。

## モジュール境界
- `main.py`: エントリポイントおよび無限ループ制御。
- 将来的に `timer.py` 等を追加する場合、出力フォーマットや時間計測をモジュール化し、`main.py` から呼び出す。
- 依存方向はエントリポイント → ユーティリティの一方向とする。

## コードサイズガイドライン
- ファイル: 200 行以内を目安とし、極力コンパクトに保つ。
- 関数: 40 行以内を目安にし、責務が増える場合は分割を検討。
- ネスト深度: 3 レベル以内。

## ドキュメント基準
- 主要な公開関数には docstring を追加し、引数と動作を明示する。
- README に実行手順と依存関係を記載（最小構成でも基本説明を含める）。
- 複雑な制御が発生した場合は、ファイル冒頭に簡潔なコメントを追記する。
